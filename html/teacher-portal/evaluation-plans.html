<!-- El login -->

<!DOCTYPE html>
<html lang="es" class="scrollbar-width-none">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./../../css/style.css">
    <link rel="icon" href="./../../img/logo.ico">
    <title>Inicio</title>
</head>

<body
    class="relative flex justify-center min-h-screen mb-50 md:justify-start bg-gradient-to-tr from-[rgb(var(--body-from))] to-[rgb(var(--body-to))]">
    <div class="fixed bottom-10 left-0 w-[600px] h-[600px] pointer-events-none animate-left-spin-pulse">
        <div class="absolute inset-0 border-2 border-[rgb(var(--button-to))] opacity-20"></div>
        <div class="absolute border-2 border-[rgb(var(--placeholder-to))] inset-1 opacity-5"></div>
        <div class="absolute inset-0 rotate-45 border-2 border-[rgb(var(--button-from))] opacity-40"></div>
        <div class="absolute rotate-45 border-2 border-[rgb(var(--placeholder-from))] inset-1 opacity-20"></div>
    </div>
    <div class="fixed top-0 right-0 w-[300px] h-[300px] z-[-20] pointer-events-none animate-right-spin-pulse">
        <div class="absolute inset-0 border-2 border-[rgb(var(--button-to))] opacity-20"></div>
        <div class="absolute border-2 border-[rgb(var(--placeholder-to))] inset-1 opacity-5"></div>
        <div class="absolute inset-0 rotate-45 border-2 border-[rgb(var(--button-from))] opacity-40"></div>
        <div class="absolute rotate-45 border-2 border-[rgb(var(--placeholder-from))] inset-1 opacity-20"></div>
    </div>
    <div id="navbar" class="fixed top-0 left-0 w-full z-[52]">
    </div>
    <div id="main-view" class="flex-1 w-full">
        <main class="min-h-screen flex flex-col md:ml-80 p-10">
  <div class="flex items-center justify-between mb-10">
    <h1
      class="text-2xl font-bold bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent drop-shadow select-none">
      Planes de Evaluación
    </h1>

    <div class="group block rounded-xl bg-transparent hover:shadow-lg transition-shadow duration-300">
      <button id="create-plan-btn" type="button"
        class="flex items-center gap-5 px-5 py-4 rounded-lg text-[rgb(var(--button-from))]
               group-hover:bg-gradient-to-r group-hover:from-[rgb(var(--button-from))] group-hover:to-[rgb(var(--button-to))] transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6 flex-shrink-0 text-[rgb(var(--button-from))] group-hover:text-white drop-shadow transition-colors duration-300 stroke-current fill-none"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" />
          <path d="M8 12h8" />
          <path d="M12 8v8" />
        </svg>
        <span
          class="hidden lg:block font-medium group-hover:text-white transition-all duration-300 drop-shadow select-none pr-1">Crear
          plan</span>
      </button>
    </div>
  </div>

  <div id="plans-container" class="relative flex flex-col gap-8 pb-36"></div>
</main>

<!-- ====== Templates ====== -->

<template id="tmpl-plan-card">
  <div id="plan-card" class="relative pl-10">
    <div
      class="absolute top-8 left-3 w-3 h-3 bg-gradient-to-br from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] rounded-full shadow-md">
    </div>

    <div
      class="bg-gradient-to-br from-[rgb(var(--card-from))] to-[rgb(var(--card-to))] rounded-xl p-6 shadow-md hover:shadow-lg transition-all">
      <div class="flex justify-between items-start">
        <div class="min-w-0">
          <h2 id="plan-title"
            class="text-lg font-bold bg-gradient-to-r from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] bg-clip-text text-transparent drop-shadow select-none truncate">
          </h2>
          <p id="plan-period"
            class="text-xs bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent font-semibold">
          </p>
        </div>

        <!-- mini menú simple (sin componente externo) -->
        <div class="relative">
          <button type="button" class="context-menu-btn">
            <svg xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 text-[rgb(var(--button-from))] hover:brightness-110 transition-all hover:scale-110"
              fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="5" r="1" />
              <circle cx="12" cy="12" r="1" />
              <circle cx="12" cy="19" r="1" />
            </svg>
          </button>
          <div
            class="context-menu hidden absolute right-0 mt-2 min-w-48 rounded-lg overflow-hidden shadow-lg bg-gradient-to-br from-[rgb(var(--card-from))] to-[rgb(var(--card-to))] border border-[rgb(var(--off-from))] z-10">
            <button class="ctx-duplicate w-full text-left px-4 py-2 text-[rgb(var(--button-from))] hover:bg-[rgb(var(--body-from))]">Duplicar plan</button>
            <button class="ctx-add-eval w-full text-left px-4 py-2 text-[rgb(var(--button-from))] hover:bg-[rgb(var(--body-from))]">Agregar evaluación</button>
          </div>
        </div>
      </div>

      <p id="plan-description"
        class="text-sm bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent mt-2">
      </p>

      <div class="text-xs mt-3">
        <p class="font-semibold bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent">
          Evaluaciones incluidas:
        </p>
        <ul id="plan-evaluations" class="list-disc list-inside text-[rgb(var(--text-from))]"></ul>
      </div>

      <div class="flex justify-end gap-3 mt-4">
        <button type="button" class="view-plan-btn group py-3 px-4 bg-gradient-to-tr from-[rgb(var(--body-from))] to-[rgb(var(--body-to))] hover:scale-[1.015] hover:brightness-105 rounded-xl font-medium shadow-md transition-all">
          <span
            class="bg-gradient-to-r from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] bg-clip-text text-transparent group-hover:brightness-110">Ver
            Detalle</span>
        </button>

        <button type="button"
          class="edit-plan-btn py-3 px-4 bg-gradient-to-tr from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] text-white drop-shadow rounded-xl font-medium shadow-md hover:brightness-110 hover:scale-[1.015] transition-all">
          Editar Plan
        </button>
      </div>
    </div>
  </div>
</template>

<template id="tmpl-create-plan">
  <form id="plan-form" novalidate class="max-w-md mx-auto flex flex-col px-6 gap-14 py-14">
    <div class="flex flex-col items-center">
      <span
        class="text-3xl font-bold text-center mb-2 drop-shadow bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent select-none">
        Nuevo Plan
      </span>
      <span
        class="text-xl font-semibold text-center drop-shadow bg-gradient-to-r from-[rgb(var(--text-from))] to-[rgb(var(--text-to))] bg-clip-text text-transparent select-none">
        Llena los campos requeridos
      </span>
    </div>

    <div class="flex flex-col gap-6">
      <input id="form-title" type="text"
        class="w-full bg-gradient-to-r from-[rgb(var(--card-from))] to-[rgb(var(--card-to))] px-6 py-4 rounded-lg focus:outline-none text-[rgb(var(--text-from))] placeholder-[rgb(var(--placeholder-from))] text-xl placeholder:italic text-shadow shadow-md border-none"
        placeholder="Título del plan" required>

      <input id="form-period" type="text"
        class="w-full bg-gradient-to-r from-[rgb(var(--card-from))] to-[rgb(var(--card-to))] px-6 py-4 rounded-lg focus:outline-none text-[rgb(var(--text-from))] placeholder-[rgb(var(--placeholder-from))] text-xl placeholder:italic text-shadow shadow-md border-none"
        placeholder="Periodo académico (ej. Ciclo II - 2025)" required>

      <textarea id="form-description" rows="4"
        class="w-full bg-gradient-to-r from-[rgb(var(--card-from))] to-[rgb(var(--card-to))] px-6 py-4 rounded-lg focus:outline-none text-[rgb(var(--text-from))] placeholder-[rgb(var(--placeholder-from))] text-xl placeholder:italic text-shadow shadow-md border-none resize-none"
        placeholder="Descripción general" required></textarea>
    </div>

    <div class="flex justify-end gap-3">
      <button type="button" id="cancel-plan-btn"
        class="p-4 bg-gradient-to-tr from-[rgb(var(--body-from))] to-[rgb(var(--body-to))] text-[rgb(var(--button-from))] hover:scale-[1.015] hover:brightness-105 rounded-xl font-medium shadow-md transition-all">
        Cancelar
      </button>

      <button type="submit"
        class="p-4 bg-gradient-to-tr from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] text-white drop-shadow rounded-xl font-medium shadow-md hover:brightness-110 hover:scale-[1.015] transition-all">
        Guardar
      </button>
    </div>
  </form>
</template>

<template id="tmpl-plan-detail">
  <div class="p-6">
    <h2 id="detail-title"
      class="text-xl font-bold bg-gradient-to-r from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] bg-clip-text text-transparent drop-shadow select-none mb-2">
    </h2>
    <p id="detail-period" class="text-sm text-[rgb(var(--text-from))] font-semibold mb-4"></p>
    <p id="detail-description" class="text-sm text-[rgb(var(--text-from))] mb-4"></p>
    <p class="text-xs text-[rgb(var(--text-from))] font-semibold">Evaluaciones:</p>
    <ul id="detail-evaluations" class="list-disc list-inside text-xs text-[rgb(var(--text-from))]"></ul>
  </div>
</template>

        
</div>
    <footer id="footer"
        class="fixed bottom-0 left-0 w-full bg-gradient-to-tr from-[rgb(var(--button-from))] to-[rgb(var(--button-to))] z-[999] opacity-0 pointer-events-none translate-y-full transition-all duration-700 ease-in-out grid grid-cols-1 md:grid-cols-12 rounded-t-2xl md:rounded-t-none cursor-pointer">
    </footer>
</body>
<script type="module" src="./../../js/controllers/auth/auth.controller.js"></script>
<script type="module" src="./../../js//controllers/themes/themes.controller.js"></script>
<script type="module" src="./../../js/controllers/teacher-portal/evaluation-plans.controller.js"></script>
<script type="module" src="./../../js/controllers/elements/footer.controller.js"></script>
<script type="module" src="./../../js/controllers/elements/navbar.controller.js"></script>

</html>